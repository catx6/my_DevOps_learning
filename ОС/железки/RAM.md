Random Access Memory - —ç—Ç–æ **–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å**, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è **–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö**, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö CPU –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

---

| –ö–æ–º–∞–Ω–¥–∞             | –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç                                                   |
| ------------------- | ---------------------------------------------------------------- |
| `free -h`           | –û–±—â–µ–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ –∏ —Å–≤–æ–±–æ–¥–Ω–æ–µ –û–ó–£ (–≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ). |
| `top` –∏–ª–∏ `htop`    | –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏.            |
| `vmstat`            | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏, —Å–≤–æ–ø–∞ –∏ CPU.                      |
| `cat /proc/meminfo` | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–∞–º—è—Ç–∏ —è–¥—Ä–∞.                    |

----

| –í–∏–¥                 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                                                     |
| ------------------- | -------------------------------------------------------------------------------------------------------------- |
| **Used**            | –í—Å—ë, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.                                                                      |
| **Free**            | –°–æ–≤—Å–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.                                                                                        |
| **Buffers / Cache** | –ü–∞–º—è—Ç—å –ø–æ–¥ –∫–µ—à —Ñ–∞–π–ª–æ–≤ ‚Äî —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–∏—Å–∫–æ–º (–º–æ–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).                         |
| **Swap**            | –ü–æ–¥–∫–∞—á–∫–∞ ‚Äî –æ–±–ª–∞—Å—Ç—å –Ω–∞ –¥–∏—Å–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∫–∞–∫ ¬´–∑–∞–ø–∞—Å–Ω–∞—è RAM¬ª. –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫ ¬´Out of Memory¬ª. |

----

- **Page (—Å—Ç—Ä–∞–Ω–∏—Ü–∞)** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ (–æ–±—ã—á–Ω–æ 4 KB).
- **Paging** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ RAM –≤ swap.
- **OOM Killer** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º —è–¥—Ä–∞ Linux, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å, –µ—Å–ª–∏ RAM –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å.
- **Memory Leak (—É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏)** ‚Äî –æ—à–∏–±–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üßÆ –î–ª—è DevOps –∏–Ω–∂–µ–Ω–µ—Ä–∞ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:

- –ö–∞–∫ **–º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM** (`free`, `top`, `vmstat`, Prometheus metrics).
- –ö–∞–∫ **–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å swap** –∏ **–ª–∏–º–∏—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** (`--memory` –≤ Docker).
- –ö–∞–∫ **–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `valgrind` –∏–ª–∏ `ps_mem`).
- –ß—Ç–æ **–∫—ç—à –∏ –±—É—Ñ–µ—Ä—ã ‚Äî –Ω–µ "–ø–æ—Ç–µ—Ä—è–Ω–Ω–∞—è" –ø–∞–º—è—Ç—å**, –∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞.


----

#### –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 

|–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç|–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç|
|---|---|
|`free -h`|–û–±—â–∞—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∏ –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å.|
|`top`, `htop`, `glances`|–í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∫—Ç–æ –µ—Å—Ç –ø–∞–º—è—Ç—å.|
|`ps aux --sort=-%mem|head`|
|**Prometheus + Grafana**|–ú–µ—Ç—Ä–∏–∫–∏ –ø–∞–º—è—Ç–∏ –≤ –ø—Ä–æ–¥–µ, –∞–ª–µ—Ä—Ç—ã –ø–æ threshold.|
|**CloudWatch**, **Datadog**, **Zabbix**|–í –æ–±–ª–∞–∫–∞—Ö –∏ –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö.|


-----

###  Swap

- –≠—Ç–æ **—Ñ–∞–π–ª –∏–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–∞ –¥–∏—Å–∫–µ**, –∫—É–¥–∞ Linux —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ RAM –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏.
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ **–ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ —É—Ä–æ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É**.

–ö–æ–º–∞–Ω–¥—ã:
```bash
swapon --show
free -h
```
üü° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –ò—Å–ø–æ–ª—å–∑—É–π swap **—Ç–æ–ª—å–∫–æ –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤**, –Ω–µ –∫–∞–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –±—É—Ñ–µ—Ä.
- –ù–∞ –ø—Ä–æ–¥–µ –ª—É—á—à–µ **–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å swap** –∏ **–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å swappiness** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `vm.swappiness=10`).

-----

### OOM Killer

–ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ **–≤–æ–æ–±—â–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç**, —è–¥—Ä–æ Linux –∑–∞–ø—É—Å–∫–∞–µ—Ç **OOM Killer**, –∫–æ—Ç–æ—Ä—ã–π —É–±–∏–≤–∞–µ—Ç —Å–∞–º—ã–π ‚Äú–∂–∞–¥–Ω—ã–π‚Äù –ø—Ä–æ—Ü–µ—Å—Å (–ø–æ `oom_score`).

DevOps –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:

- –ü—Ä–æ–≤–µ—Ä—è—Ç—å `dmesg | grep -i oom`
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, **–ø–æ—á–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å –±—ã–ª —É–±–∏—Ç**.
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã (`ulimit`, `cgroup`, Docker `--memory`).


----

1. **–ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞—ë—Ç—Å—è —è–¥—Ä–æ–º** (`fork()` ‚Üí `exec()`).
2. –û–° –≤—ã–¥–µ–ª—è–µ—Ç –µ–º—É **–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** (Virtual Address Space).
3. –≠—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ **–µ—â—ë –Ω–µ —Ä–∞–≤–Ω–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ (RAM)**.
4. –ö–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∞–ª—å–Ω–æ **–Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å**, —è–¥—Ä–æ:
    - –≤—ã–¥–µ–ª—è–µ—Ç **—Å—Ç—Ä–∞–Ω–∏—Ü—ã (pages)** –∏–∑ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π RAM;
    - –µ—Å–ª–∏ RAM –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å ‚Äî **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç swap**.

Linux –Ω–µ –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å —Å—Ä–∞–∑—É. –û–Ω –¥–µ–ª–∞–µ—Ç —ç—Ç–æ ‚Äú–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é‚Äù ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º **demand paging**.