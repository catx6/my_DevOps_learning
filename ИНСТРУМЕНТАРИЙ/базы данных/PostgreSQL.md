PostgreSQL - —ç—Ç–æ *–æ–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è* –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.
–°—á–∏—Ç–∞–µ—Ç—Å—è —Å–∞–º–æ–π –Ω–∞–¥–µ–∂–Ω–æ–π, –≥–∏–±–∫–æ–π, –∏ –º–æ—â–Ω–æ–π –°–£–ë–î –≤ –º–∏—Ä–µ

–ü–æ—á–µ–º—É *–æ–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è*
–ø–æ—Ç–æ–º—É —á—Ç–æ, –ø–æ–º–∏–º–æ –æ–±—ã—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü/—Å—Ç—Ä–æ–∫/—Å—Ç–æ–ª–±—Ü–æ–≤, Postgres —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å:

- –º–∞—Å—Å–∏–≤–∞–º–∏
- JSON / JSONB
- hstore
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏
- –≥–µ–æ–¥–∞–Ω–Ω—ã–º–∏ (—á–µ—Ä–µ–∑ PostGIS)
- —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (PL/pgSQL, Python, C, –¥–∞–∂–µ JS)

---

#### –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- high-load —Å–µ—Ä–≤–∏—Å—ã
- —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã (ACID)
- –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã 

---

# –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ PostgreSQL

## 1. –ë–∞–∑—ã, –°—Ö–µ–º—ã, –¢–∞–±–ª–∏—Ü—ã

```pgsql
Cluster -> Database -> Schema -> Table
```
- –∫–ª–∞—Å—Ç–µ—Ä PostgreSQL
- –±–∞–∑–∞ `prod_db`
- —Å—Ö–µ–º—ã `public`, `auth`, `metrics`
- —Ç–∞–±–ª–∏—Ü—ã –≤–Ω—É—Ç—Ä–∏ —Å—Ö–µ–º

## 2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
Postgres - —Ä–µ–∫–æ—Ä–¥—Å–º–µ–Ω –ø–æ —Ç–∏–ø–∞–º
- `text`, `varchar`, `uuid`
- `int`, `bigint`, `serial`, `bigserial`
- `boolean`, `date`, `timestamp`
- `json`
- **jsonb** (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON)
- **array[]**
- **enum**
- **inet** (IP-–∞–¥—Ä–µ—Å–∞)
- **numeric** (—Ç–æ—á–Ω—ã–µ —á–∏—Å–ª–∞ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤)

## 3. –ò–Ω–¥–µ–∫—Å—ã
- **B-Tree** - –æ—Å–Ω–æ–≤–Ω–æ–π
- **GIN** –¥–ª—è **JSONB** –∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **GIST** –≥–µ–æ–¥–∞–Ω–Ω—ã–µ, PostGIS
- **Hash**
- BRIN

## 4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
Postgres - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î
```pgsql
BEGIN;
UPDATE balance SET money = money - 100 WHERE id=1;
UPDATE balance SET money = money + 100 WHERE id=2;
COMMIT;
```

----

### —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è

## üü¢ –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è
–î–∞–Ω–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ä–µ–ø–ª–∏–∫—É.
# üü£ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è
–ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ —Ä–µ–ø–ª–∏–∫–∞ –º–æ–∂–µ—Ç –æ—Ç—Å—Ç–∞–≤–∞—Ç—å.
#### üü° –õ–æ–≥–∏—á–µ—Å–∫–∞—è
–î–ª—è –º–∏–≥—Ä–∞—Ü–∏–π, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, CDC (Debezium).

----

### –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å **PostgreSQL**

## **CLI**
–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
pgsql -h localhost -U postgres -d mydb
```

–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü:
```bash
\dt # —Ç–∞–±–ª–∏—Ü–∞
\l  # –±–¥
```
